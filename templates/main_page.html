<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</title>
    <link rel="stylesheet" href="../static/css/chat/messanger.css">
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- <div id="server-scroller"></div> -->
    
    <div id="chat-header">
        <span id="error-message" style="display: none; color: red;">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</span>
        
        <div id="search-controls">
            <button id="prevBtn" style="display: none;" title="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ">‚Üë</button>
            <button id="nextBtn" style="display: none;" title="–°–ª–µ–¥—É—é—â–µ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ">‚Üì</button>
            
            <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π..." autocomplete="off" />
            
            <div id="msgCounter" style="display: none"> </div>
        </div>
    </div>    
    
    <div id="messages-container" style="overflow-y: scroll;">  
        <div id="message-control" style="display: none;">
            <!-- –°—Ç—Ä–µ–ª–æ—á–∫–∞ -->
            <svg id="arrow-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M5.854 4.146a.5.5 0 0 1 0 .708L3.707 7H14.5a.5.5 0 0 1 0 1H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z"/>
            </svg>

            <!-- –ö–∞—Ä–∞–Ω–¥–∞—à -->
            <svg id="pencil-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                <path d="M15.502 1.94a.5.5 0 0 1 0 .706l-13.5 13.5a.5.5 0 0 1-.168.11l-4 1a.5.5 0 0 1-.65-.65l1-4a.5.5 0 0 1 .11-.168l13.5-13.5a.5.5 0 0 1 .706 0zM13.085 3 4 12.085V13h.915L14 3.915 13.085 3z"/>
            </svg>

            <!-- –ú—É—Å–æ—Ä–∫–∞ -->
            <svg id="bin-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 5h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5v-7zm1 .5v6h1v-6H6zm3 0v6h1v-6H9z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9.5a2.5 2.5 0 0 1-2.5 2.5h-5A2.5 2.5 0 0 1 3 13.5V4H2.5a1 1 0 1 1 0-2H5.707l1-1h3.586l1 1H13a1 1 0 0 1 1 1zM3 4v9.5a1.5 1.5 0 0 0 1.5 1.5h5a1.5 1.5 0 0 0 1.5-1.5V4H3z"/>
            </svg>
        </div>
    </div>
    
    <div id="userList-container" style="display: block;">
        <div id="online-users">
            <h3>–û–Ω–ª–∞–π–Ω</h3>
        </div>
    </div>

    <div id="user-profile" style="display: none;"></div>

    <div id="answer-container" style="display: none;">–í—ã –æ—Ç–≤–µ—á–∞–µ—Ç–µ –Ω–∞</div>
    <div id="edit-container" style="display: none;">esc –¥–ª—è –æ—Ç–º–µ–Ω—ã ‚Ä¢ enter —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å</div>
    
    <div id="input-container">
        <input type="file" id="image-input" accept="image/*" style="display: none;">
        <button id="image-button">üì∑</button>
        
        <textarea id="message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." autocomplete="off" 
        style="resize: none; font-family: 'Arial', sans-serif; font-size: 16px; font-weight: normal; color: black;">
        </textarea>
        <!-- <button id="send-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button> -->
    </div>

    <input type="hidden" id="current-offset" value="0">

    <div id="data-container" data-messages='{{ messages|tojson|safe }}'></div>

    <!-- <script src="../static/js/chat/send_message.js"></script> -->

    <script type="module" src="/static/js/chat/chat.js"></script>
    
    <script type="module" src="/static/js/chat/message_controls.js"></script>
    
    <script type="module" src="/static/js/chat/user_list.js"></script>

</body>
</html>
